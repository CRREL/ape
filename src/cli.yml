name: The Atlas Processing Engine (ape)
author: Pete Gadomski <pete@gadom.ski>
subcommands:
    - sop:
        about: Print the SOP matrix, as calculated from a reference SOP matrix and an adjustment matrix.
        args:
            - SOP:
                help: The reference SOP file.
                required: true
                index: 1
            - ADJUSTMENT:
                help: The adjustment matrix file.
                required: true
                index: 2
    - velocities:
        about: Work with gridded velocity files.
        subcommands:
            - create:
                about: Create a new gridded velocity file.
                args:
                    - BEFORE:
                        help: The first file in the sequence (moving).
                        required: true
                        index: 1
                    - AFTER:
                        help: The second file in the sequence (fixed).
                        required: true
                        index: 2
                    - OUTFILE:
                        help: The file to hold the output velocities.
                        required: true
                        index: 3
                    - grid-size:
                        help: The size of the grid to use for velocity calculation.
                        long: grid-size
                        takes_value: true
                    - ngrow:
                        help: The number of times that the underpopulated grid cells should be grown.
                        long: ngrow
                        takes_value: true
                    - min-points:
                        help: The minimum number of points allowed in each cell.
                        long: min-points
                        takes_value: true
                    - threads:
                        help: The number of threads to use when calculating velocities.
                        long: threads
                        short: t
                        takes_value: true
                    - sigma2:
                        help: The initial sigma2 for the cpd calculation.
                        long: sigma2
                        takes_value: true
            - to-csv:
                about: Convert a velocity json to a csv, printed to stdout.
                args:
                    - INFILE:
                        help: The velocity json file.
                        required: true
                        index: 1
